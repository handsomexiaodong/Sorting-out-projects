(function () {
    let Mdbox5 = (function () {
        function Mdbox5(i) {
            this.ruleAllArry = [
                {
                    ruleLeng: 10,
                    ruleStart: 0,
                    ruleSize: 1,
                    ruleSpostion: 2,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["jSS", "F8G", "MnO", "gs1", "nrp", "Hxh", "1w9", "3R2", "yVy", "xWz"],
                        ["Bvn", "JV3", "vRY", "vGD", "1GM", "YDp", "JSm", "I1y", "GMw", "w5o"],
                        ["CEk", "1EC", "8Mo", "3va", "IdR", "KLF", "2e3", "Hb0", "vs3", "9kD"],
                        ["Tx8", "aec", "42e", "CUZ", "TY3", "zNs", "N9p", "g36", "cIh", "nLZ"],
                        ["ULe", "s0a", "280", "MyV", "ZKh", "iHG", "fxm", "c1C", "xPO", "Tod"],
                        ["gw9", "ins", "heD", "htw", "yon", "gRB", "EYN", "r5n", "54F", "XPU"],
                        ["oEJ", "K0U", "Ip3", "94m", "0Ak", "oQi", "KlJ", "mLJ", "RiA", "Skj"],
                        ["0fw", "GAF", "JM2", "ob1", "qAd", "rYR", "6ZZ", "BHb", "iOD", "SiF"],
                        ["98F", "rJZ", "mp3", "Mvd", "xxs", "Gc1", "oQD", "tLX", "r7i", "rAP"],
                        ["rgd", "uaa", "DGl", "7io", "Tk2", "CoO", "Cs5", "hY3", "MQG", "UUf"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 0,
                    ruleSize: 9,
                    ruleSpostion: 1,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["6kn", "gVC", "PGv", "WOJ", "1zK", "zeE", "5dz", "8aP", "QEY", "2kK"],
                        ["jiV", "qn5", "XuW", "Rpm", "7dy", "iWv", "JQ1", "9k6", "DDs", "Fj1"],
                        ["ibj", "nc1", "AcC", "EZ2", "PPm", "Nji", "JYc", "vCe", "dwX", "d34"],
                        ["vrO", "PNq", "EKB", "k3A", "roM", "CsA", "O5x", "gxb", "S8k", "Aoo"],
                        ["0xe", "TS7", "hkK", "VDW", "APE", "GNM", "enZ", "ueK", "3CT", "CVC"],
                        ["tPX", "c9T", "V1g", "HV4", "z19", "sgK", "tzK", "pwO", "zl0", "kjz"],
                        ["9wc", "aE7", "yZI", "Azo", "nMf", "LNc", "aat", "Vp1", "2sU", "OpV"],
                        ["mTB", "zj3", "3rl", "phk", "O3t", "Juj", "ZWe", "onf", "bWl", "OYX"],
                        ["Rmg", "ksf", "ZAH", "9rM", "OJO", "jhw", "q3O", "hDe", "MqB", "Kox"],
                        ["vHJ", "CDl", "VDV", "kr6", "vb0", "bdX", "Ciw", "bjJ", "1GR", "MPN"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 1,
                    ruleSize: 0,
                    ruleSpostion: 2,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["Iga", "wty", "meM", "mba", "wxF", "8cU", "iXc", "Ead", "RX6", "s45"],
                        ["OpU", "0QK", "NXm", "2PO", "Eao", "V41", "CEk", "0mV", "0sF", "cyp"],
                        ["d1J", "d4H", "Is1", "IIW", "ov1", "5eP", "qrO", "5u9", "BOi", "Kgb"],
                        ["05k", "pde", "JuQ", "waI", "Fm6", "tup", "J4Y", "hdZ", "nZ3", "ARQ"],
                        ["wXv", "Fbz", "Ui0", "otL", "KOU", "Czz", "fpq", "on3", "rNC", "Yiv"],
                        ["jSL", "YvE", "r4q", "Xvy", "HJX", "uKO", "URu", "Knq", "6wR", "pmV"],
                        ["BUg", "RWu", "N62", "Guh", "rWD", "lCA", "o7h", "E24", "U0D", "LN9"],
                        ["Hvw", "DnL", "u7Q", "mk8", "OJk", "FtB", "hZV", "Pxt", "J9H", "23k"],
                        ["fts", "jxv", "aAW", "Nbd", "CA0", "cdv", "kUs", "Oi7", "ujI", "Fx1"],
                        ["Fip", "e5S", "gug", "iSt", "Hef", "ab3", "YUN", "DXH", "ltn", "ryg"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 9,
                    ruleSize: 0,
                    ruleSpostion: 1,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["P3w", "3pA", "JBX", "UcU", "ztu", "Uta", "toB", "F6z", "oEg", "7qB"],
                        ["PXw", "KHV", "h0K", "6Qn", "drG", "U8d", "efp", "X5D", "Y6L", "fjr"],
                        ["dc4", "CN7", "r31", "Aan", "8A8", "spg", "fWe", "CBf", "pXa", "IRe"],
                        ["ZOV", "9NK", "5zB", "QIw", "HzZ", "HLj", "zq2", "urr", "0N6", "sd3"],
                        ["mfK", "p2K", "XmY", "4wB", "2c4", "uhX", "yfq", "aUK", "qx6", "ZTP"],
                        ["Zk6", "hXv", "ts9", "9kX", "8C4", "Rey", "UJ0", "fKX", "h4A", "dHs"],
                        ["RIa", "7da", "CM1", "qAq", "mz1", "7up", "Zgh", "eTw", "tTb", "2dk"],
                        ["wou", "G0X", "woq", "Q8G", "D09", "YkJ", "S6f", "5vY", "Jp9", "xLS"],
                        ["oKh", "cY4", "quN", "Jwe", "OnN", "mGk", "xnu", "erI", "xnp", "8Tt"],
                        ["34g", "3w7", "JDj", "MSa", "8aA", "0lx", "JhK", "Kz9", "Zu5", "7aD"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 9,
                    ruleSize: 8,
                    ruleSpostion: 0,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["jcd", "REp", "Ll3", "J6X", "A2K", "J18", "FCe", "xsY", "oGO", "FZW"],
                        ["Nal", "wgP", "THO", "2sN", "wUI", "KHf", "hUY", "tzk", "vv3", "iNF"],
                        ["PPX", "EYW", "rr4", "JHE", "q8Z", "hBs", "3Dd", "JUe", "Psk", "X1Y"],
                        ["rYQ", "btK", "FJ3", "ax3", "UjP", "Sl6", "YDc", "lAM", "jZQ", "dcP"],
                        ["TfW", "JCN", "iWt", "CBa", "5zJ", "oA4", "HoO", "YqD", "ULR", "xn3"],
                        ["RL2", "q6y", "tCY", "kSt", "MUd", "7Sx", "5tA", "NW2", "Pma", "9BR"],
                        ["YeV", "zxC", "EmA", "nB6", "WRu", "pKa", "Jbz", "HVf", "bUX", "cbb"],
                        ["afT", "tQ2", "O4b", "UGa", "C0v", "doT", "U4j", "4hs", "Ve9", "CG5"],
                        ["0ru", "crJ", "bsI", "0oS", "u66", "csC", "Kw4", "4aH", "AeF", "Bgu"],
                        ["h20", "WC6", "v0D", "fPu", "gjX", "uPc", "6Zv", "wVU", "4l1", "pW0"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 8,
                    ruleSize: 9,
                    ruleSpostion: 0,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["cLp", "gqk", "854", "v0z", "qU8", "A1g", "D5k", "Byu", "ls0", "vkJ"],
                        ["tu7", "tLZ", "VMg", "Fg3", "ILj", "GzK", "m4h", "nMj", "YaL", "pLJ"],
                        ["Iy3", "eIY", "fat", "Ihj", "V9Y", "8w5", "Wjd", "wYd", "lss", "VCE"],
                        ["SE9", "RVU", "0c5", "hvX", "Y3v", "Fv1", "ORk", "eZ9", "0n6", "Rlj"],
                        ["jG5", "Jsq", "OxD", "yvs", "RI7", "k7v", "V1I", "ZAG", "2xs", "nAv"],
                        ["S2y", "nvH", "vHI", "A9M", "0jg", "Q46", "3oo", "O4i", "A2S", "Y3A"],
                        ["wZL", "MLY", "8VX", "PdW", "KCK", "fF2", "OyI", "xSV", "INU", "hhp"],
                        ["SOD", "SBj", "En7", "UdP", "Jc2", "03O", "B05", "oJn", "mDX", "k2o"],
                        ["BSs", "8rf", "WFt", "iUs", "DXZ", "CkR", "PpX", "UR7", "5re", "0D5"],
                        ["mtv", "vAV", "GB4", "7I8", "TuF", "ZZY", "SGI", "FGo", "Et5", "Mto"]
                    ]
                }
            ];
            this.rule = this.ruleAllArry[i];
        }
        Mdbox5.prototype.getRandom = function (num) {
            return parseInt(Math.random() * num);
        };
        Mdbox5.prototype.encryption = function (num) {
            var str = '';
            var newNum = '';
            var num1 = '' + num;
            var numLeng = num1.length;
            var numStr = '';
            var strLeng = this.rule.ruleLeng - 2;
            var strFree = strLeng - numLeng;
            var startStr = '';
            var lastStr = '';
            var strPositon = parseInt(Math.random() * strFree);
            var lsatNum = strFree - strPositon;
            for (var s = 0; s < strPositon; s++) {
                startStr += this.getRandom(9);
            }
            for (var l = 0; l < lsatNum; l++) {
                lastStr += this.getRandom(9);
            }
            numStr = startStr + num + lastStr;
            if (this.rule.ruleStart == '0') {
                newNum += strPositon + this.rule.ruleSpostion;
                if (this.rule.ruleSize == '1') {
                    newNum = newNum + numLeng + numStr;
                }
                else if (this.rule.ruleSize == '9') {
                    newNum = newNum + numStr + numLeng;
                }
            }
            else if (this.rule.ruleStart == '1') {
                var numPostion = strPositon + this.rule.ruleSpostion;
                if (this.rule.ruleSize == '0') {
                    newNum = '' + numLeng + numPostion + numStr;
                }
            }
            else if (this.rule.ruleStart == '9') {
                var numPostion = strPositon + this.rule.ruleSpostion;
                if (this.rule.ruleSize == '0') {
                    newNum = newNum + numLeng + numStr + numPostion;
                }
                else if (this.rule.ruleSize == '8') {
                    newNum = newNum + numStr + numLeng + numPostion;
                }
            }
            else if (this.rule.ruleStart == '8' && this.rule.ruleSize == '9') {
                var numPostion = strPositon + this.rule.ruleSpostion;
                newNum += numStr + numPostion + numLeng;
            }
            var string = "" + newNum;
            var leng = string.length;
            var strArry = string.split('');
            for (var i_1 = 0; i_1 < leng; i_1++) {
                var n = strArry[i_1];
                var arrNum = this.rule.ruleArry[n];
                var arrLeng = arrNum.length - 1;
                str += arrNum[this.getRandom(arrLeng)];
            }
            return str;
        };
        return Mdbox5;
    }());
    let jiamiBfun = new Mdbox5(_mayNum);
    /* 掉落素材 */
    let fallDrew = [
        {
            w: 70,
            h: 150,
            name: "nipple1",
            speed: 3,
            score: 10
        },
        {
            w: 70,
            h: 150,
            name: "nipple2",
            speed: 4,
            score: 0
        },
        {
            w: 70,
            h: 150,
            name: "nipple3",
            speed: 5,
            score: 0
        }
    ]
    let time = null;
    let aging = 60;
    let barW = 100;
    let hnum = 0;
    let apex = 0;//峰值
    //切换序列帧;
    let defAddNum = 0;
    let defMaxNum = 100;
    /* 掉落角度 */
    let fallAngle = [-0.5, -0.4, 0, -0.3, -0.2, -0.1, 0, 0, 0, 0.1, 0.2, 0.3, 0.4, 0.5]
    let Game = (function () {
        function Game(target) {
            this.aw = window.innerWidth;
            this.ah = window.innerHeight;
            this.roleBox = {
                w: 270,
                h: 300,
                x: this.aw / 2 - 135,
                y: this.ah - 360
            };
            this.startGame = false;
            this.fallBox = {
                w: 70,
                h: 150
            };
            this.fallArray = [];
            this.fallNum = 4;
            this.canPlay = false;
            this.myX = 0;
            this.iqmArray = [];
            this.target = typeof target == 'string' ? document.querySelector(target) : target;
            this.init();
        }
        Game.prototype.init = function () {
            this.loaderGameImg();
            this.createStage();
            this.reSet();
            this.bindEvent();
        }
        /* 绑定事件 */
        Game.prototype.bindEvent = function () {
            let _this = this;
            /* START */
            $(".startGame").click(function () {
                isCanPlayGame(_this.start);
            })
            /* 我知道了 */
            $(".know_btn").click(function () {
                _this.ResetGame();
                $(this).parent().hide();
                $(this).parents(".alertBox").hide();
                let roleSpirt = _this.createSprite("figure");
                let tipsImg = _this.createSprite("tips");
                tipsImg.x = -20;
                _this.roleBoy.addChild(roleSpirt);
                _this.startGame = true;
                let timeTips;
                timeTips = setInterval(() => {
                    _this.roleBoy.removeChild(tipsImg);
                    if (defAddNum < defMaxNum) {
                        tipsImg.alpha = 1
                        defAddNum += 10;
                    } else {
                        defAddNum = 0
                        tipsImg.alpha = 0
                    }
                    _this.roleBoy.addChild(tipsImg);
                }, 100);

                setTimeout(() => {
                    countdown();
                    clearInterval(timeTips);
                    _this.roleBoy.removeChild(tipsImg);
                    _this.canPlay = true;
                }, 1500)
            })
            /* 再来一局 */
            $(".againGame").click(function () {
                _this.ResetGame();
                isCanPlayGame(_this.againGame);
            })
            this.target.addEventListener('touchmove', this.moveEvent.bind(this), false);
        }
        Game.prototype.start = function () {
            pagetab(1);
            $(".musiced").css({
                top: "125px"
            })
            setTimeout(() => {
                $(".know").show().siblings().hide();
                $(".alertBox").show();
                setTimeout(() => {
                    $(".alertBox").addClass("cur");
                }, 10)
            }, 500)
        }
        Game.prototype.againGame = function () {
            $(".againGame").parents(".shareBox").hide();
            $(".againGame").parents(".alertBox").removeClass("cur");
            $(".againGame").parents(".shareBox").siblings(".know").show();
            setTimeout(() => {
                $(".alertBox").addClass("cur");
            }, 10)
        }
        Game.prototype.moveEvent = function (e) {
            if (this.startGame) {
                let newX = e.changedTouches[0].clientX - this.roleBox.w / 2;
                let newMyX = e.changedTouches[0].clientX - 51;
                if (newX <= 0) {
                    newX = -25
                } else if (newX >= this.aw - 100) {
                    newX = this.aw - 100
                }
                if (newMyX <= 0) {
                    newMyX = 0
                } else if (newMyX >= this.aw - 100) {
                    newMyX = this.aw - 100
                }
                this.roleBoy.x = newX;
                this.myX = newMyX;
            }
        }
        /* 初始化游戏 */
        Game.prototype.initGame = function () {
            this.startGame = false;
            this.canPlay = false;
            this.fallArray = [];
            this.fallNum = 4;
            this.myX = 0;
            this.iqmArray = [];
            fallDrew = [
                {
                    w: 70,
                    h: 150,
                    name: "nipple1",
                    speed: 3,
                    score: 5
                },
                {
                    w: 70,
                    h: 150,
                    name: "nipple2",
                    speed: 4,
                    score: 0
                },
                {
                    w: 70,
                    h: 150,
                    name: "nipple3",
                    speed: 5,
                    score: 0
                }
            ];
            this.aw = window.innerWidth;
            this.ah = window.innerHeight;
            this.roleBox = {
                w: 270,
                h: 300,
                x: this.aw / 2 - 135,
                y: this.ah - 360
            };
        }
        /* 重置游戏 */
        Game.prototype.ResetGame = function () {
            this.article.removeChildren();
            this.roleBoy.removeChildren();
            this.iqmBox.removeChildren();
            time = null;
            aging = 60;
            barW = 100;
            hnum = 0;
            apex = 0;//峰值
            $(".integral").html('00');
            $(".bar").css({
                backgroundColor: "#f69b1b"
            })
            this.initGame();
        }
        /* 创建舞台 */
        Game.prototype.createStage = function () {
            this.app = new PIXI.Application({
                width: this.aw,
                height: this.ah,
                antialias: true,
                transparent: true,
                resolution: 1
            });
            this.target.append(this.app.view);
            this.article = this.createContainer(this.aw, this.ah);
            this.iqmBox = this.createContainer(70, 70);
            this.app.stage.addChild(this.iqmBox);
            this.app.stage.addChild(this.article);
        }
        /* 创建元素 */
        Game.prototype.createElement = function () {
            this.roleBoy = this.createContainer(this.roleBox.w, this.roleBox.h, this.roleBox.x, this.roleBox.y);
            this.app.stage.addChild(this.roleBoy);
        }
        /* 创建下落的元素 */
        Game.prototype.dropElement = function () {
            let length = this.fallArray.length;
            if (length >= this.fallNum) {
                return false;
            } else {
                let x = this.Abscissa();
                let index = parseInt(this.GetRandom(0, 3));
                let indexR = parseInt(this.GetRandom(0, 14));

                if (aging <= 50 && aging > 40) {
                    if (apex <= 10) {
                        if (index < 1) {
                            apex++;
                        }
                    } else {
                        index = parseInt(this.GetRandom(1, 3));
                    }
                } else if (aging <= 40 && aging > 30) {
                    if (apex <= 20) {
                        if (index < 1) {
                            apex++;
                        }
                    } else {
                        index = parseInt(this.GetRandom(1, 3));
                    }
                } else if (aging <= 30 && aging > 20) {
                    if (apex <= 30) {
                        if (index < 1) {
                            apex++;
                        }
                    } else {
                        index = parseInt(this.GetRandom(1, 3));
                    }
                } else if (aging <= 20 && aging > 10) {
                    if (apex <= 40) {
                        if (index < 1) {
                            apex++;
                        }
                    } else {
                        index = parseInt(this.GetRandom(1, 3));
                    }
                } else if (aging <= 10) {
                    if (apex <= 53) {
                        if (index < 1) {
                            apex++;
                        }
                    } else {
                        index = parseInt(this.GetRandom(1, 3));
                    }
                }

                let target = fallDrew[index];
                let obj = {};
                obj.x = x;
                obj.y = -this.GetRandom(0, 20);
                obj.w = target.w;
                obj.h = target.h;
                obj.r = fallAngle[indexR];
                obj.stage = 'drop';
                obj.speed = target.speed;
                obj.score = target.score;
                obj.name = target.name;
                this.fallArray.push(obj);
                let fallBoy = this.createSprite(target.name);
                fallBoy.x = obj.x;
                fallBoy.y = obj.y;
                fallBoy.rotation = obj.r;
                this.article.addChild(fallBoy);
            }
        }
        /* 更新下落元素位置 */
        Game.prototype.dropChange = function () {
            if (this.canPlay) {
                this.article.removeChildren();
                let length = this.fallArray.length;
                if (!length) {
                    return false;
                }
                for (let i = length - 1; i >= 0; i--) {
                    let item = this.fallArray[i];
                    if (item.y >= this.ah) {
                        this.fallArray.splice(i, 1);
                        continue;
                    }
                    if (item.stage == 'end') {
                        this.fallArray.splice(i, 1);
                        continue;
                    }
                    if (item.stage == 'drop') {
                        item.y += item.speed;
                        let valNum = this.myX - item.x - 35;
                        let diffNum = item.y - this.roleBoy.y;
                        if (diffNum <= 30 && diffNum > 0 && Math.abs(valNum) <= 30) {
                            if (item.score < 1) {
                                this.createIQM();
                            }
                            let score = parseInt($(".integral").html());
                            score += item.score;
                            hnum += item.score;
                            $(".integral").html(score);
                            item.stage = 'end'
                        }
                    }
                    let fallBoy = this.createSprite(item.name);
                    fallBoy.x = item.x;
                    fallBoy.y = item.y;
                    this.article.addChild(fallBoy);
                }
            }
        }
        /* 生成IQM */
        Game.prototype.createIQM = function () {
            let obj = {};
            obj.x = this.roleBoy.x + 100;
            obj.y = this.ah - 400;
            obj.scale = 0.3;
            this.iqmArray.push(obj);
            let iqm = this.createSprite("iqm2");
            iqm.x = obj.x;
            iqm.y = obj.y;
            this.iqmBox.addChild(iqm);
        }
        /* IQM运动 */
        Game.prototype.IqmMotion = function () {
            this.iqmBox.removeChildren();
            let length = this.iqmArray.length;
            if (!length) {
                return false;
            }
            for (let i = length - 1; i >= 0; i--) {
                let obj = this.iqmArray[i];
                if (obj.y < this.ah / 4) {
                    this.iqmArray.splice(i, 1);
                    continue;
                } else {
                    obj.y -= 3;
                }
                let iqm2 = this.createSprite("iqm2");
                iqm2.x = obj.x;
                iqm2.y = obj.y;
                this.iqmBox.addChild(iqm2);
            }
        }
        Game.prototype.gameLoop = function (delta) {
            if (this.canPlay) {
                this.dropChange();
                this.dropElement();
                this.IqmMotion();
                this.difficulty();
            }
        };
        /* 创建精灵 */
        Game.prototype.createSprite = function (name, n) {
            if (n) {
                console.log(name);
            }
            return new PIXI.Sprite(PIXI.loader.resources[name].texture);
        };
        /* 创建容器 */
        Game.prototype.createContainer = function (w = 0, h = 0, x = 0, y = 0) {
            let container = new PIXI.Container({
                width: w,
                height: h
            });
            container.x = x;
            container.y = y;
            return container;
        }
        /* 难度增加 */
        Game.prototype.difficulty = function () {
            if (aging <= 0) {
                this.startGame = false;
                this.canPlay = false;
                return false;
            }
            if (aging <= 50 && aging > 40) {
                this.fallNum = 5;
                fallDrew[0].speed = 4
                fallDrew[1].speed = 5
                fallDrew[2].speed = 6
            } else if (aging <= 40 && aging > 30) {
                this.fallNum = 6
                fallDrew[0].speed = 5
                fallDrew[1].speed = 6
                fallDrew[2].speed = 7
            } else if (aging <= 30 && aging > 20) {
                this.fallNum = 7
                fallDrew[0].speed = 6
                fallDrew[1].speed = 7
                fallDrew[2].speed = 8
            } else if (aging <= 20 && aging > 10) {
                this.fallNum = 8
                fallDrew[0].speed = 7
                fallDrew[1].speed = 8
                fallDrew[2].speed = 9
            } else if (aging <= 10) {
                this.fallNum = 9
                fallDrew[0].speed = 8
                fallDrew[1].speed = 9
                fallDrew[2].speed = 10
            }
        }
        /* 重置屏幕高度 */
        Game.prototype.reSet = function () {
            console.log(window.innerHeight)
            ah = $("body").height() > 600 ? window.innerHeight : 600;
            this.app.renderer.view.height = ah;
        }
        /* 加载图片资源 */
        Game.prototype.loaderGameImg = function () {
            PIXI.loader
                .add(imgList)
                .on("progress", this.loadProgressHandler)
                .load(this.finshLoad.bind(this));
        }
        /* 加载资源过程 */
        Game.prototype.loadProgressHandler = function (loader, resource) {
            let percent = parseInt(loader.progress);
            console.log(percent);
        }
        /* 加载资源完毕 */
        Game.prototype.finshLoad = function () {
            let _this = this;
            console.log("加载完毕");
            this.initGame();
            this.createElement();
            this.app.ticker.add(function (delta) {
                _this.gameLoop(delta);
            });
        }
        /* 随机数 */
        Game.prototype.GetRandom = function (a, b) {
            return a + Math.random() * (b - a);
        }
        /* 随机x轴坐标 */
        Game.prototype.Abscissa = function () {
            let x;
            if (!x) {
                x = this.GetRandom(0, this.aw - this.fallBox.w - 20);
            }
            return x;
        }
        /* 倒计时 */
        function countdown() {
            clearInterval(time);
            time = setInterval(() => {
                aging--;
                barW -= 1.5;
                if (aging <= 0) {
                    clearInterval(time);
                    // let markNum = jiamiBfun.encryption(parseInt($(".integral").html()));
                    let markNum = jiamiBfun.encryption(parseInt(hnum));
                    gameOver(markNum, endGame())
                } else if (aging > 20 && aging < 60) {
                    $(".bar").css({
                        width: `${barW}%`,
                    })
                } else if (aging > 0 && aging <= 20) {
                    $(".bar").css({
                        width: `${barW}%`,
                        backgroundColor: "#ef2700"
                    })
                    $(".time").addClass("on");
                }
            }, 1000);
        }
        /* 结束游戏 */
        function endGame() {
            setTimeout(() => {
                $(".shareBox").show().siblings().hide();
                $(".alertBox").show();
                setTimeout(() => {
                    $(".alertBox").addClass("cur");
                }, 10)
            }, 500)
        }
        return Game;
    }())
    let gameBox = new Game("#gameBox");
}())