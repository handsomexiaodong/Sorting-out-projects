class Mdbox5{
    constructor(i){
        this.ruleAllArry = [
            {
                ruleLeng:10,
                ruleStart:0, // 数字的开始位置
                ruleSize:1, // 数字的长度
                ruleSpostion:2,
                ruleStrNum:3,
                ruleArry:[
                    ["QUF", "3P7", "qsf", "0Md", "XNB", "CIU", "XwT", "F51", "IId", "3Z7"],
                    ["lEk", "N82", "b81", "Cbw", "U2g", "VIa", "yKC", "KGK", "JeZ", "GRp"],
                    ["Mx1", "5zj", "IYE", "vSg", "c2y", "AHE", "AjM", "TSF", "xWe", "W20"],
                    ["Biu", "c5b", "u0N", "4KX", "WO7", "AeU", "Hbf", "bcm", "vvy", "K56"],
                    ["Slf", "f7C", "Kan", "Mgr", "MyR", "esU", "GHB", "Tun", "b7s", "ec5"],
                    ["lzs", "Oms", "lXJ", "5Fa", "3vM", "UhR", "NY4", "nsl", "BN8", "YiB"],
                    ["sGv", "J5E", "xlQ", "Gez", "lFU", "D2Z", "PO3", "o1V", "p97", "fEA"],
                    ["w57", "HT1", "92K", "CK4", "VCM", "rUl", "GnB", "QV3", "jj5", "x5z"],
                    ["CfR", "KXf", "DUs", "I8G", "CxI", "HLe", "UFK", "1Fi", "XYB", "PWl"],
                    ["6lS", "tlp", "z6C", "ddZ", "Owr", "pj3", "VYh", "oLX", "gZw", "LEn"]
                ]
            },
            {
                ruleLeng:10,
                ruleStart:0,
                ruleSize:9,
                ruleSpostion:1,
                ruleStrNum:3,
                ruleArry:[
                    ["FWh", "qwd", "X8V", "5aF", "l3A", "7Vl", "oKO", "ICN", "6pu", "uQo"],
                    ["qUR", "BMa", "IfA", "Lrf", "4KR", "Mcr", "9ss", "c1U", "3EL", "6HF"],
                    ["y3h", "1Uf", "tDs", "xMj", "Wmm", "iqw", "h53", "JOb", "QPm", "ki8"],
                    ["g9S", "Ifp", "aUv", "QWI", "MCr", "4ph", "Ua9", "PEN", "hmU", "rFJ"],
                    ["dSM", "fJS", "SoJ", "7mF", "VNe", "wxS", "Dsr", "3ft", "4Z2", "vAC"],
                    ["n16", "EUT", "Xcs", "cIE", "UMM", "eBp", "Avw", "51g", "wqd", "yg0"],
                    ["DHH", "F6K", "VX9", "Exx", "o4H", "YqC", "8CZ", "IVU", "OqE", "Pgm"],
                    ["62E", "DA9", "ayo", "D1V", "Wjk", "zYz", "Vx9", "CP2", "lM0", "nEM"],
                    ["AuO", "f35", "824", "6oh", "ASt", "Hbv", "D7D", "P5D", "3vt", "dmi"],
                    ["IHn", "UVf", "kOq", "pD0", "8sP", "Vlv", "jfw", "okp", "fR0", "32k"]
                ]
            },
            {
                ruleLeng:10,
                ruleStart:1,
                ruleSize:0,
                ruleSpostion:2,
                ruleStrNum:3,
                ruleArry:[
                    ["7wx", "Ffp", "C1b", "M12", "Fke", "TI7", "IPk", "Llt", "Nkf", "QKM"],
                    ["nHy", "nnn", "WTp", "iNH", "O8b", "7RG", "1LX", "0Kp", "9x8", "Ri7"],
                    ["kzt", "KrW", "xN4", "InP", "1Zs", "wc6", "p3K", "k5x", "OFc", "Atx"],
                    ["6Dg", "bl7", "031", "X1q", "5f4", "YC1", "mhd", "1am", "gYx", "mec"],
                    ["Cvo", "BuV", "NRN", "zHc", "zNx", "IRr", "402", "lCs", "HDo", "2o5"],
                    ["b63", "xTB", "xI4", "Lt6", "lxi", "Wxx", "pBH", "SU0", "ZmI", "Jzc"],
                    ["J9J", "GdT", "ssy", "OBX", "ZDv", "HwE", "qsj", "PLz", "UIf", "sgH"],
                    ["Ifp", "MMo", "dNU", "2Jq", "kw8", "IDd", "a5E", "E2w", "6DA", "vN0"],
                    ["JXa", "6at", "yVU", "oS0", "y5j", "SC2", "OpQ", "UHe", "tPY", "1zT"],
                    ["B94", "kiV", "u5L", "bMM", "mg0", "GEx", "RCg", "7Y3", "MA0", "3S2"]
                ]
            },
            {
                ruleLeng:10,
                ruleStart:9,
                ruleSize:0,
                ruleSpostion:1,
                ruleStrNum:3,
                ruleArry:[
                    ["2JO", "dbH", "bN3", "Xmf", "d0O", "oiU", "GHx", "Wkx", "xmh", "PrP"],
                    ["mNf", "rX1", "of6", "fE0", "vLc", "0hY", "y2L", "F3v", "GYe", "VyZ"],
                    ["0OC", "1pP", "ZAr", "6fP", "aus", "a8Q", "LIW", "eE4", "YfF", "zHo"],
                    ["KZK", "UEY", "Haj", "CO1", "yJ6", "KgF", "u2o", "X7u", "mds", "FWS"],
                    ["8GL", "Exa", "znJ", "GCl", "Uds", "0ze", "YFC", "U82", "PW4", "XIG"],
                    ["gFL", "f9I", "mOb", "hB8", "jmD", "eyF", "A67", "yN4", "BO5", "nXr"],
                    ["mMg", "wbs", "VFX", "xOa", "ctR", "6Xi", "mrz", "w7V", "JaM", "9Ha"],
                    ["plr", "R2u", "VqP", "UNe", "rFx", "4NN", "Y51", "pY9", "HrQ", "LHs"],
                    ["O63", "qEr", "tzW", "OZI", "X2Y", "sbw", "GhY", "JUL", "nNO", "VNx"],
                    ["9PG", "hkC", "HWT", "xeN", "rRp", "Rga", "B3A", "asa", "7Nj", "Gif"]
                ]
            },
            {
                ruleLeng:10,
                ruleStart:9,
                ruleSize:8,
                ruleSpostion:0,
                ruleStrNum:3,
                ruleArry:[
                    ["qse", "DeZ", "ow3", "CWT", "IVb", "Isq", "0TD", "ZBw", "b44", "F4m"],
                    ["cou", "oJf", "EfH", "ihe", "hvE", "ZDg", "H3v", "Fs5", "Vme", "bxy"],
                    ["dOS", "jRc", "aeS", "sJt", "Dgf", "JDt", "aju", "UbO", "Eex", "Vdr"],
                    ["Dsp", "Lgz", "xQE", "lSW", "6Ar", "usA", "tza", "d9O", "hTF", "aNt"],
                    ["zhe", "DpE", "xx8", "pXu", "tgO", "9lN", "Gx2", "GDd", "631", "M23"],
                    ["sqt", "Zyo", "G5k", "n70", "HZb", "Ypp", "lfT", "VZC", "s4K", "u6J"],
                    ["NCp", "N0U", "3zN", "HI0", "xpV", "lfF", "6Bl", "Cz4", "O1e", "hzj"],
                    ["ePi", "Wny", "clx", "EaS", "sOR", "BCF", "3kv", "6PL", "IdT", "wAV"],
                    ["MBN", "EPs", "xtk", "tPj", "ieu", "TYh", "x1Y", "wZa", "RzN", "4Sq"],
                    ["eFG", "sIi", "ch7", "WFZ", "I2L", "4ia", "sd3", "WjB", "aEh", "hdh"]
                ]
            },
            {
                ruleLeng:10,
                ruleStart:8,
                ruleSize:9,
                ruleSpostion:0,
                ruleStrNum:3,
                ruleArry:[
                    ["vd4", "e7K", "sgE", "j7k", "re2", "now", "CSx", "ktR", "eyO", "eVN"],
                    ["OqM", "3Yp", "Y0L", "O4Y", "2MR", "umf", "iKy", "aDg", "9E8", "DFR"],
                    ["qp1", "nJo", "wYw", "z30", "aon", "Szo", "KW0", "csp", "tOc", "Cep"],
                    ["BnM", "6cb", "0ua", "Ovo", "cNk", "RHS", "uFP", "RGN", "qWu", "Fuj"],
                    ["uQb", "JZM", "oqq", "gr8", "CSA", "4bB", "bz9", "aZC", "cDv", "CJf"],
                    ["UCk", "oHl", "OaX", "smD", "UQ6", "l2m", "sHz", "kUd", "3sZ", "Upw"],
                    ["Cto", "S7v", "KCi", "ef1", "niq", "86f", "uJQ", "YLR", "FiW", "mTt"],
                    ["6ik", "7AY", "Nyh", "Jwx", "nms", "lYA", "lpI", "wAu", "dD3", "2Y1"],
                    ["Pw2", "xT6", "YSw", "xFq", "9ji", "vM3", "TKX", "ue7", "Kq3", "Yp9"],
                    ["UrQ", "PLg", "XJg", "g80", "4Dc", "Qtl", "EY3", "8a5", "DPc", "D6G"]
                ]
            }
        ];
        this.rule = this.ruleAllArry[i];
    }
    //得到随机数;
    getRandom(num){
        return parseInt(Math.random()*num);
    }
    //加密;
    encryption(num){
        let str = '';
        let newNum = '';
        let num1 = ''+num;
        let numLeng = num1.length;
        let numStr = '';
        let strLeng =  this.rule.ruleLeng - 2;
        let strFree = strLeng - numLeng;
        let startStr = '';
        let lastStr = '';
        let strPositon = parseInt(Math.random()*strFree);
        let lsatNum = strFree - strPositon;
        for(let s = 0; s<strPositon; s++){
            startStr += this.getRandom(9);
        }
        for(let l = 0; l<lsatNum;l++){
            lastStr += this.getRandom(9);
        }
        numStr = startStr + num + lastStr;
        if( this.rule.ruleStart == '0'){
            newNum += strPositon + this.rule.ruleSpostion;
            if(this.rule.ruleSize == '1'){
                newNum = newNum + numLeng + numStr;
            }else if(this.rule.ruleSize == '9'){
                newNum = newNum + numStr + numLeng;
            }
        }else if(this.rule.ruleStart == '1'){
            let numPostion = strPositon + this.rule.ruleSpostion;
            if(this.rule.ruleSize == '0'){
                newNum =''+ numLeng + numPostion + numStr;
            }
        }else if(this.rule.ruleStart == '9'){
            let numPostion = strPositon + this.rule.ruleSpostion;
            if(this.rule.ruleSize == '0'){
                newNum = newNum + numLeng + numStr + numPostion;
            }else if(this.rule.ruleSize == '8'){
                newNum = newNum + numStr + numLeng + numPostion;
            }
        }else if(this.rule.ruleStart == '8' && this.rule.ruleSize == '9'){
            let numPostion = strPositon + this.rule.ruleSpostion;
            newNum += numStr + numPostion + numLeng;
        }
        let string = "" + newNum;
        let leng = string.length;
        let strArry = string.split('');
        //console.log(string);
        for(let i = 0; i<leng;i++){
            let n = strArry[i];
            let arrNum = this.rule.ruleArry[n];
            let arrLeng = arrNum.length-1;
            str += arrNum[this.getRandom(arrLeng)];
        }
       // console.log(str,str.length);
        return str;
    }
    //解密l
    decodeBox(string){
        let num = '';
       // let srtingArry = [];
       // let numArry = [];
       let ruleStrNum = this.rule.ruleStrNum;
       let stringLeng = string.length / ruleStrNum;
       for(let i = 0; i<stringLeng; i++){
           let str = string.substr(i*ruleStrNum,ruleStrNum);
           num += this.retrieval(str);
       }
       return num;
    }

    //查询;
    retrieval(str){
        let ruleArr = this.rule.ruleArry;
        let ruleAl = ruleArr.length;
        let num = '';
        for(let i = 0; i<ruleAl;i++){
            let leng = ruleArr[i].length;
            // if(num){
            //     break;
            // }
            for(let j = 0; j<leng; j++ ){
                if(str == ruleArr[i][j]){
                    num += i;
                    return num;
                }
            }
        }
    }

    //解码;
    getCode(num){
       let start = this.rule.ruleStart;
       let ruleLeng = this.rule.ruleSize;
       let strLeng = num.substr(ruleLeng,1);
       let starNum = num.substr(start,1);
       let number = num.substr(starNum,strLeng);
       return number;
    }
}