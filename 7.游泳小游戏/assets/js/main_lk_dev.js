(function () {
    var Mdbox5 = (function () {
        function Mdbox5(i) {
            this.ruleAllArry = [
                {
                    ruleLeng: 10,
                    ruleStart: 0,
                    ruleSize: 1,
                    ruleSpostion: 2,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["QUF", "3P7", "qsf", "0Md", "XNB", "CIU", "XwT", "F51", "IId", "3Z7"],
                        ["lEk", "N82", "b81", "Cbw", "U2g", "VIa", "yKC", "KGK", "JeZ", "GRp"],
                        ["Mx1", "5zj", "IYE", "vSg", "c2y", "AHE", "AjM", "TSF", "xWe", "W20"],
                        ["Biu", "c5b", "u0N", "4KX", "WO7", "AeU", "Hbf", "bcm", "vvy", "K56"],
                        ["Slf", "f7C", "Kan", "Mgr", "MyR", "esU", "GHB", "Tun", "b7s", "ec5"],
                        ["lzs", "Oms", "lXJ", "5Fa", "3vM", "UhR", "NY4", "nsl", "BN8", "YiB"],
                        ["sGv", "J5E", "xlQ", "Gez", "lFU", "D2Z", "PO3", "o1V", "p97", "fEA"],
                        ["w57", "HT1", "92K", "CK4", "VCM", "rUl", "GnB", "QV3", "jj5", "x5z"],
                        ["CfR", "KXf", "DUs", "I8G", "CxI", "HLe", "UFK", "1Fi", "XYB", "PWl"],
                        ["6lS", "tlp", "z6C", "ddZ", "Owr", "pj3", "VYh", "oLX", "gZw", "LEn"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 0,
                    ruleSize: 9,
                    ruleSpostion: 1,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["FWh", "qwd", "X8V", "5aF", "l3A", "7Vl", "oKO", "ICN", "6pu", "uQo"],
                        ["qUR", "BMa", "IfA", "Lrf", "4KR", "Mcr", "9ss", "c1U", "3EL", "6HF"],
                        ["y3h", "1Uf", "tDs", "xMj", "Wmm", "iqw", "h53", "JOb", "QPm", "ki8"],
                        ["g9S", "Ifp", "aUv", "QWI", "MCr", "4ph", "Ua9", "PEN", "hmU", "rFJ"],
                        ["dSM", "fJS", "SoJ", "7mF", "VNe", "wxS", "Dsr", "3ft", "4Z2", "vAC"],
                        ["n16", "EUT", "Xcs", "cIE", "UMM", "eBp", "Avw", "51g", "wqd", "yg0"],
                        ["DHH", "F6K", "VX9", "Exx", "o4H", "YqC", "8CZ", "IVU", "OqE", "Pgm"],
                        ["62E", "DA9", "ayo", "D1V", "Wjk", "zYz", "Vx9", "CP2", "lM0", "nEM"],
                        ["AuO", "f35", "824", "6oh", "ASt", "Hbv", "D7D", "P5D", "3vt", "dmi"],
                        ["IHn", "UVf", "kOq", "pD0", "8sP", "Vlv", "jfw", "okp", "fR0", "32k"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 1,
                    ruleSize: 0,
                    ruleSpostion: 2,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["7wx", "Ffp", "C1b", "M12", "Fke", "TI7", "IPk", "Llt", "Nkf", "QKM"],
                        ["nHy", "nnn", "WTp", "iNH", "O8b", "7RG", "1LX", "0Kp", "9x8", "Ri7"],
                        ["kzt", "KrW", "xN4", "InP", "1Zs", "wc6", "p3K", "k5x", "OFc", "Atx"],
                        ["6Dg", "bl7", "031", "X1q", "5f4", "YC1", "mhd", "1am", "gYx", "mec"],
                        ["Cvo", "BuV", "NRN", "zHc", "zNx", "IRr", "402", "lCs", "HDo", "2o5"],
                        ["b63", "xTB", "xI4", "Lt6", "lxi", "Wxx", "pBH", "SU0", "ZmI", "Jzc"],
                        ["J9J", "GdT", "ssy", "OBX", "ZDv", "HwE", "qsj", "PLz", "UIf", "sgH"],
                        ["Ifp", "MMo", "dNU", "2Jq", "kw8", "IDd", "a5E", "E2w", "6DA", "vN0"],
                        ["JXa", "6at", "yVU", "oS0", "y5j", "SC2", "OpQ", "UHe", "tPY", "1zT"],
                        ["B94", "kiV", "u5L", "bMM", "mg0", "GEx", "RCg", "7Y3", "MA0", "3S2"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 9,
                    ruleSize: 0,
                    ruleSpostion: 1,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["2JO", "dbH", "bN3", "Xmf", "d0O", "oiU", "GHx", "Wkx", "xmh", "PrP"],
                        ["mNf", "rX1", "of6", "fE0", "vLc", "0hY", "y2L", "F3v", "GYe", "VyZ"],
                        ["0OC", "1pP", "ZAr", "6fP", "aus", "a8Q", "LIW", "eE4", "YfF", "zHo"],
                        ["KZK", "UEY", "Haj", "CO1", "yJ6", "KgF", "u2o", "X7u", "mds", "FWS"],
                        ["8GL", "Exa", "znJ", "GCl", "Uds", "0ze", "YFC", "U82", "PW4", "XIG"],
                        ["gFL", "f9I", "mOb", "hB8", "jmD", "eyF", "A67", "yN4", "BO5", "nXr"],
                        ["mMg", "wbs", "VFX", "xOa", "ctR", "6Xi", "mrz", "w7V", "JaM", "9Ha"],
                        ["plr", "R2u", "VqP", "UNe", "rFx", "4NN", "Y51", "pY9", "HrQ", "LHs"],
                        ["O63", "qEr", "tzW", "OZI", "X2Y", "sbw", "GhY", "JUL", "nNO", "VNx"],
                        ["9PG", "hkC", "HWT", "xeN", "rRp", "Rga", "B3A", "asa", "7Nj", "Gif"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 9,
                    ruleSize: 8,
                    ruleSpostion: 0,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["qse", "DeZ", "ow3", "CWT", "IVb", "Isq", "0TD", "ZBw", "b44", "F4m"],
                        ["cou", "oJf", "EfH", "ihe", "hvE", "ZDg", "H3v", "Fs5", "Vme", "bxy"],
                        ["dOS", "jRc", "aeS", "sJt", "Dgf", "JDt", "aju", "UbO", "Eex", "Vdr"],
                        ["Dsp", "Lgz", "xQE", "lSW", "6Ar", "usA", "tza", "d9O", "hTF", "aNt"],
                        ["zhe", "DpE", "xx8", "pXu", "tgO", "9lN", "Gx2", "GDd", "631", "M23"],
                        ["sqt", "Zyo", "G5k", "n70", "HZb", "Ypp", "lfT", "VZC", "s4K", "u6J"],
                        ["NCp", "N0U", "3zN", "HI0", "xpV", "lfF", "6Bl", "Cz4", "O1e", "hzj"],
                        ["ePi", "Wny", "clx", "EaS", "sOR", "BCF", "3kv", "6PL", "IdT", "wAV"],
                        ["MBN", "EPs", "xtk", "tPj", "ieu", "TYh", "x1Y", "wZa", "RzN", "4Sq"],
                        ["eFG", "sIi", "ch7", "WFZ", "I2L", "4ia", "sd3", "WjB", "aEh", "hdh"]
                    ]
                },
                {
                    ruleLeng: 10,
                    ruleStart: 8,
                    ruleSize: 9,
                    ruleSpostion: 0,
                    ruleStrNum: 3,
                    ruleArry: [
                        ["vd4", "e7K", "sgE", "j7k", "re2", "now", "CSx", "ktR", "eyO", "eVN"],
                        ["OqM", "3Yp", "Y0L", "O4Y", "2MR", "umf", "iKy", "aDg", "9E8", "DFR"],
                        ["qp1", "nJo", "wYw", "z30", "aon", "Szo", "KW0", "csp", "tOc", "Cep"],
                        ["BnM", "6cb", "0ua", "Ovo", "cNk", "RHS", "uFP", "RGN", "qWu", "Fuj"],
                        ["uQb", "JZM", "oqq", "gr8", "CSA", "4bB", "bz9", "aZC", "cDv", "CJf"],
                        ["UCk", "oHl", "OaX", "smD", "UQ6", "l2m", "sHz", "kUd", "3sZ", "Upw"],
                        ["Cto", "S7v", "KCi", "ef1", "niq", "86f", "uJQ", "YLR", "FiW", "mTt"],
                        ["6ik", "7AY", "Nyh", "Jwx", "nms", "lYA", "lpI", "wAu", "dD3", "2Y1"],
                        ["Pw2", "xT6", "YSw", "xFq", "9ji", "vM3", "TKX", "ue7", "Kq3", "Yp9"],
                        ["UrQ", "PLg", "XJg", "g80", "4Dc", "Qtl", "EY3", "8a5", "DPc", "D6G"]
                    ]
                }
            ];
            this.rule = this.ruleAllArry[i];
        }
        Mdbox5.prototype.getRandom = function (num) {
            return parseInt(Math.random() * num);
        };
        Mdbox5.prototype.encryption = function (num) {
            var str = '';
            var newNum = '';
            var num1 = '' + num;
            var numLeng = num1.length;
            var numStr = '';
            var strLeng = this.rule.ruleLeng - 2;
            var strFree = strLeng - numLeng;
            var startStr = '';
            var lastStr = '';
            var strPositon = parseInt(Math.random() * strFree);
            var lsatNum = strFree - strPositon;
            for (var s = 0; s < strPositon; s++) {
                startStr += this.getRandom(9);
            }
            for (var l = 0; l < lsatNum; l++) {
                lastStr += this.getRandom(9);
            }
            numStr = startStr + num + lastStr;
            if (this.rule.ruleStart == '0') {
                newNum += strPositon + this.rule.ruleSpostion;
                if (this.rule.ruleSize == '1') {
                    newNum = newNum + numLeng + numStr;
                }
                else if (this.rule.ruleSize == '9') {
                    newNum = newNum + numStr + numLeng;
                }
            }
            else if (this.rule.ruleStart == '1') {
                var numPostion = strPositon + this.rule.ruleSpostion;
                if (this.rule.ruleSize == '0') {
                    newNum = '' + numLeng + numPostion + numStr;
                }
            }
            else if (this.rule.ruleStart == '9') {
                var numPostion = strPositon + this.rule.ruleSpostion;
                if (this.rule.ruleSize == '0') {
                    newNum = newNum + numLeng + numStr + numPostion;
                }
                else if (this.rule.ruleSize == '8') {
                    newNum = newNum + numStr + numLeng + numPostion;
                }
            }
            else if (this.rule.ruleStart == '8' && this.rule.ruleSize == '9') {
                var numPostion = strPositon + this.rule.ruleSpostion;
                newNum += numStr + numPostion + numLeng;
            }
            var string = "" + newNum;
            var leng = string.length;
            var strArry = string.split('');
            for (var i_1 = 0; i_1 < leng; i_1++) {
                var n = strArry[i_1];
                var arrNum = this.rule.ruleArry[n];
                var arrLeng = arrNum.length - 1;
                str += arrNum[this.getRandom(arrLeng)];
            }
            return str;
        };
        return Mdbox5;
    }());
    var jiamiBfun = new Mdbox5(_mayNum);
    var Game = (function () {
        function Game(target) {
            this.ascale = window.innerWidth / 750;
            this.aw = window.innerWidth / this.ascale;
            this.ah = window.innerHeight / this.ascale;
            this.height1 = this.ah + 300;
            this.canClickGameRun = true;
            this.speed = 0;
            this.aSpeed = 5;
            this.minSpeed = 0;
            this.maxSpeed = 50;
            this.count = 0;
            this.maxCount = 100;
            this.time = 45;
            this.startTime = 0;
            this.slowSpeed = 1;
            this.distance = 0;
            this.canPlay = false;
            this.dx0 = 100;
            this.dx1 = -100;
            this.defScale = 0.3;
            this.dxMnum = 200;
            this.dxSpeed = 200 / this.height1;
            this.dxSacleSpeed = (1 - this.defScale) / this.height1;
            this.leftCanAdd = true;
            this.righrCanAdd = true;
            this.leftArry = [];
            this.rightArry = [];
            this.canAddSpeed = false;
            this.clickNum = 0;
            this.boyName = ['img24', 'img25'];
            this.propName = ['img18', 'img19', 'img20', 'img21', 'img18', 'img19', 'img20', 'img21'];
            this.boyNum = 0;
            this.boyCount = 0;
            this.boyMaxCount = 100;
            this.boyLength = this.boyName.length;
            this.boxw = 250;
            this.boxh = 200;
            this.sboxw = 320;
            this.sboxh = 200;
            this.timer = null;
            this.pCount = 0;
            this.c_points = [];
            this.ropeLength = 900 / 20;
            this.leftCanAdd = true;
            this.righrCanAdd = true;
            this.target = typeof target == 'string' ? document.querySelector(target) : target;
            this.init();
        }
        Game.prototype.init = function () {
            this.createStage();
            this.loaderGameImg();
            this.reSet();
            this.resize();
            this.bindEvent();
        };
        Game.prototype.createStage = function () {
            this.app = new PIXI.Application({
                width: this.aw,
                height: this.ah,
                antialias: true,
                transparent: true,
                resolution: 1
            });
            this.backStage = new PIXI.Container({
                width: this.aw,
                height: 1600,
                x: 0,
                y: 0
            });
            this.backStage.y = this.ah - 1600;
            this.app.stage.addChild(this.backStage);
            this.backStage1 = new PIXI.Container({
                width: this.aw,
                height: 1600,
                x: 0,
                y: 0
            });
            this.backStage1.y = this.ah - 1600;
            this.app.stage.addChild(this.backStage1);
            var boxW = 250;
            this.target.append(this.app.view);
            this.leftBox = new PIXI.Container({
                width: boxW,
                height: this.height1,
                x: 0,
                y: -300
            });
            this.leftBox.x = -30;
            this.leftBox.y = -300;
            this.rightBox = new PIXI.Container({
                width: boxW,
                height: this.height1,
                x: 500,
                y: -300
            });
            this.rightBox.x = 540;
            this.rightBox.y = -300;
            this.app.stage.addChild(this.leftBox);
            this.app.stage.addChild(this.rightBox);
            var top = this.ah - 683 - 100;
            console.log(top);
            this.boyBox = new PIXI.Container({
                width: 414,
                height: 683,
                x: 203,
                y: top
            });
            this.boyBox.x = (750 - 414) / 2;
            this.boyBox.y = top;
            this.app.stage.addChild(this.boyBox);
            this.gameBox = new PIXI.Container({
                width: this.aw,
                height: this.ah,
                x: 0,
                y: 0
            });
            this.app.stage.addChild(this.gameBox);
        };
        Game.prototype.createSprite = function (name, n) {
            if (n === void 0) { n = 0; }
            if (n) {
                console.log(name);
            }
            return new PIXI.Sprite(PIXI.loader.resources[name].texture);
        };
        Game.prototype.initGame = function () {
            var buttonW = 161;
            var buttonH = 125;
            var buttonX = 60;
            var buttonY = this.ah - buttonH - 80;
            this.pCount = 0;
            this.c_points = [];
            for (var i = 0; i < 20; i++) {
                this.c_points.push(new PIXI.Point(i * this.ropeLength, 0));
            }
            var src = base_url + 'bg2.jpg';
            var strip = new PIXI.mesh.Rope(PIXI.Texture.fromImage(src), this.c_points);
            strip.x = -450;
            this.leftBox.removeChildren();
            this.rightBox.removeChildren();
            this.boyBox.removeChildren();
            this.gameBox.removeChildren();
            this.backStage.removeChildren();
            this.backStage.position.y = this.ah * 0.5;
            this.backStage.position.x = 400;
            this.backStage1.removeChildren();
            this.backStage.addChild(strip);
            var boy = this.createSprite('img24');
            console.log();
            this.boyBox.addChild(boy);
            var leftButton = this.createSprite("img22");
            var rightButton = this.createSprite("img23");
            leftButton.x = buttonX;
            rightButton.x = this.aw - buttonW - buttonX;
            leftButton.y = buttonY;
            rightButton.y = buttonY;
            leftButton.buttonMode = true;
            leftButton.interactive = true;
            rightButton.buttonMode = true;
            rightButton.interactive = true;
            this.gameBox.addChild(leftButton);
            this.gameBox.addChild(rightButton);
            leftButton.on("pointertap", this.leftButtonClick.bind(this));
            rightButton.on("pointertap", this.rightButtonClick.bind(this));
            $(".disBoxCont p").html(0);
            $(".timeOutBox p").html(this.time + ".00");
        };
        Game.prototype.boxBindClick = function (e) {
            var touchLength = e.changedTouches.length;
            if (touchLength == 1) {
                this.canClickGameRun = true;
            }
            else {
                this.canClickGameRun = false;
            }
        };
        Game.prototype.leftButtonClick = function (e) {
            if (!this.canClickGameRun) {
                return false;
            }
            console.log("点击左边", this.leftCanAdd);
            // alert("点击左边")
            var _this = this;
            if (this.leftCanAdd) {
                clearTimeout(this.timer);
                this.leftCanAdd = false;
                this.speed += this.aSpeed;
                this.clickNum++;
                this.righrCanAdd = true;
                this.canAddSpeed = true;
                this.boyNum = 0;
                _this.timer = setTimeout(function () {
                    _this.canAddSpeed = false;
                }, 200);
            }
        };
        Game.prototype.rightButtonClick = function (e) {
            console.log("点击右边");
            // alert("点击右边")
            if (!this.canClickGameRun) {
                return false;
            }
            var _this = this;
            if (this.righrCanAdd) {
                clearTimeout(this.timer);
                this.boyNum = 1;
                this.righrCanAdd = false;
                this.clickNum++;
                this.leftCanAdd = true;
                this.canAddSpeed = true;
                _this.timer = setTimeout(function () {
                    _this.canAddSpeed = false;
                }, 200);
            }
        };
        Game.prototype.changeSpeed = function () {
            if (this.canAddSpeed) {
            }
            else {
                this.speed -= this.slowSpeed;
            }
            if (this.speed < this.minSpeed) {
                this.speed = this.minSpeed;
            }
            if (this.speed > this.maxSpeed) {
                this.speed = this.maxSpeed;
            }
            this.distance += this.speed;
            var disT = parseInt(this.distance / 100);
            $(".disBoxCont p").html(disT);
        };
        Game.prototype.boyChane = function () {
            var name = this.boyName[this.boyNum];
            var boy = this.createSprite(name);
            this.boyBox.removeChildren();
            this.boyBox.addChild(boy);
        };
        Game.prototype.resize = function () {
            window.addEventListener('resize', function () {
                this.reSet();
            }.bind(this));
        };
        Game.prototype.reSet = function () {
            this.aw = window.innerWidth / this.ascale;
            this.ah = window.innerHeight / this.ascale > 600 ? window.innerHeight / this.ascale : 600;
            this.app.renderer.view.height = this.ah;
            this.height1 = this.ah + 300;
            this.boyBox.y = this.ah - 683 - 100;
        };
        Game.prototype.resetGame = function () {
            this.distance = 0;
            this.speed = 5;
            this.count = 0;
            this.leftCanAdd = true;
            this.righrCanAdd = true;
            this.leftArry = [];
            this.rightArry = [];
            this.initGame();
        };
        Game.prototype.getTime = function () {
            var date = new Date();
            return date.getTime();
        };
        Game.prototype.bindEvent = function () {
            var _this = this;
            $(".startButton").click(function () {
                _this.reSet();
                _this.initGame();
                isCanPlayGame(_this.canPlayGame);
            });
            $(".startButtonGame").click(function () {
                $(".gameTipsRule").hide();
                _this.gameStart();
            });
            $(".replayGame").click(function () {
                _this.resetGame();
                isCanPlayGame(_this.canPlayGame);
            });
            document.querySelector("#gameContainer").addEventListener('touchstart', this.boxBindClick.bind(this), false);
        };
        Game.prototype.canPlayGame = function () {
            $(".gameTipsRule").show();
            pagetab(1);
        };
        Game.prototype.createLeftBox = function () {
            var _this_1 = this;
            var length = this.leftArry.length;
            if (!length || this.leftArry[length - 1].y > 700) {
                this.leftArry.push(this.createBoxSprit(0));
            }
            else {
                if (!this.leftCanAdd) {
                    return false;
                }
                var y = this.leftArry[length - 1].y;
                if (y < 400) {
                    return false;
                }
                var m = parseInt(Math.random() * 100);
                if (m > 45 && m < 55) {
                    this.leftCanAdd = false;
                    var time_1 = parseInt(Math.random() * 100 + 30);
                    setTimeout(function () {
                        _this_1.leftCanAdd = true;
                    }, time_1);
                    return false;
                }
                this.leftArry.push(this.createBoxSprit(0));
            }
        };
        Game.prototype.runBg = function () {
            this.count += 0.008;
            for (var i = 0; i < this.c_points.length; i++) {
                this.c_points[i].y = Math.sin((i * 0.15) + this.count) * 8;
            }
        };
        Game.prototype.createRightBox = function () {
            var _this_1 = this;
            var length = this.rightArry.length;
            if (!length || this.rightArry[length - 1].y > 700) {
                this.rightArry.push(this.createBoxSprit(1));
            }
            else {
                if (!this.righrCanAdd) {
                    return false;
                }
                var y = this.rightArry[length - 1].y;
                if (y < 400) {
                    return false;
                }
                var m = parseInt(Math.random() * 100);
                if (m > 45 && m < 50) {
                    this.righrCanAdd = false;
                    var time_2 = parseInt(Math.random() * 100 + 30);
                    setTimeout(function () {
                        _this_1.righrCanAdd = true;
                    }, time_2);
                    return false;
                }
                this.rightArry.push(this.createBoxSprit(1));
            }
        };
        Game.prototype.createBoxSprit = function (i) {
            var length = this.propName.length - 1;
            var obj = {};
            var name = this.propName[parseInt(Math.random() * length)];
            obj.name = name;
            if (!i) {
                obj.x = this.dx0;
            }
            else {
                obj.x = this.dx1;
            }
            obj.y = 0;
            obj.w = this.sboxw;
            obj.h = this.sboxh;
            obj.scale = this.defScale;
            return obj;
        };
        Game.prototype.renderLeftBox = function () {
            var length = this.leftArry.length;
            this.leftBox.removeChildren();
            if (!length) {
                return false;
            }
            for (var i_2 = length - 1; i_2 >= 0; i_2--) {
                var obj_1 = this.leftArry[i_2];
                if (obj_1.y > this.height1) {
                    this.leftArry.splice(i_2, 1);
                    continue;
                }
                var box = new PIXI.Container({
                    width: this.boxw,
                    height: this.boxh,
                    x: obj_1.x,
                    y: obj_1.y
                });
                var zoom = obj_1.scale;
                var y = obj_1.y;
                zoom = y * this.dxSacleSpeed + obj_1.scale;
                if (zoom > 1) {
                    zoom = 1;
                }
                var dx = obj_1.x - this.dxSpeed * obj_1.y;
                var w = obj_1.w * zoom;
                var h = obj_1.h * zoom;
                var x = (this.boxw - w) / 2;
                var y = (this.boxh - h) / 2;
                var sprit = this.createSprite(obj_1.name);
                sprit.x = x;
                sprit.y = y;
                sprit.width = w;
                sprit.height = h;
                box.y = obj_1.y;
                box.x = dx;
                box.addChild(sprit);
                this.leftBox.addChild(box);
                obj_1.y += this.speed;
            }
        };
        Game.prototype.renderRightBox = function () {
            var length = this.rightArry.length;
            this.rightBox.removeChildren();
            if (!length) {
                return false;
            }
            for (var i_3 = length - 1; i_3 >= 0; i_3--) {
                var obj_2 = this.rightArry[i_3];
                if (obj_2.y > this.height1) {
                    this.rightArry.splice(i_3, 1);
                    continue;
                }
                var box = new PIXI.Container({
                    width: this.boxw,
                    height: this.boxh,
                    x: obj_2.x,
                    y: obj_2.y
                });
                var zoom = obj_2.scale;
                var y = obj_2.y;
                zoom = y * this.dxSacleSpeed + obj_2.scale;
                if (zoom > 1) {
                    zoom = 1;
                }
                var dx = obj_2.x + this.dxSpeed * obj_2.y;
                var w = obj_2.w * zoom;
                var h = obj_2.h * zoom;
                var x = (this.boxw - w) / 2;
                var y = (this.boxh - h) / 2;
                var sprit = this.createSprite(obj_2.name);
                sprit.x = x;
                sprit.y = y;
                sprit.width = w;
                sprit.height = h;
                box.y = obj_2.y;
                box.x = dx;
                box.addChild(sprit);
                this.rightBox.addChild(box);
                obj_2.y += this.speed;
            }
        };
        Game.prototype.gameStart = function () {
            this.startTime = this.getTime();
            this.canPlay = true;
        };
        Game.prototype.timeOut = function () {
            var dtime = this.getTime() - this.startTime;
            var allTime = this.time * 1000 - dtime;
            var time = parseInt(allTime / 10);
            if (time <= 0 || dtime > 60 * 1000) {
                this.canPlay = false;
                this.gameOver();
            }
            if (time <= 0) {
                time = 0;
            }
            var txtTime = '' + time;
            if (time < 10) {
                txtTime = "000" + time;
            }
            else if (time < 100) {
                txtTime = '00' + time;
            }
            else if (time < 1000) {
                txtTime = '0' + time;
            }
            var _a = txtTime.split(''), a = _a[0], _b = _a[1], b = _b === void 0 ? 0 : _b, _c = _a[2], c = _c === void 0 ? 0 : _c, _d = _a[3], d = _d === void 0 ? 0 : _d;
            var num = '' + a + b + '.' + c + d;
            $(".timeOutBox p").html(num);
        };
        Game.prototype.gameOver = function () {
            var obj = {};
            obj.score = jiamiBfun.encryption(parseInt(this.distance / 100));
            obj.clickNum = jiamiBfun.encryption(this.clickNum);
            gameOver(obj, this.overGamePage);
        };
        Game.prototype.overGamePage = function () {
            pagetab(2);
        };
        Game.prototype.gameLoop = function (delta) {
            if (this.canPlay) {
                this.reSet();
                this.timeOut();
                this.changeSpeed();
                this.boyChane();
                this.createLeftBox();
                this.createRightBox();
                this.renderLeftBox();
                this.renderRightBox();
                this.runBg();
            }
        };
        Game.prototype.loaderGameImg = function () {
            PIXI.loader
                .add(imgJson)
                .on("progress", this.loadProgressHandler)
                .load(this.finshLoad.bind(this));
        };
        Game.prototype.loadProgressHandler = function (loader, resource) {
            var percent = parseInt(loader.progress);
            $(".jindBox p").width(loader.progress + "%");
        };
        Game.prototype.finshLoad = function () {
            var _this_1 = this;
            this.initGame();
            var _this = this;
            this.app.ticker.add(function (delta) {
                _this.gameLoop(delta);
            });
            setTimeout(function () {
                _this_1.loadComplete();
            }, 200);
        };
        Game.prototype.loadComplete = function () {
            $(".loadPage").fadeOut(400);
            $(".page").eq(1).addClass("curt").siblings().hide();
            setTimeout(function () {
            }, 400);
        };
        return Game;
    }());
    var game = new Game('#gameContainer');
})();
//# sourceMappingURL=main_lk_dev.js.map